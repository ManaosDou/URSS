[gd_scene load_steps=15 format=3 uid="uid://djxhc8lw130wd"]

[ext_resource type="Script" uid="uid://cb875hmdw1whe" path="res://Escenas/Componentes/Hackeables/puerta/puerta_hackeable.gd" id="1_7vhvi"]
[ext_resource type="AudioStream" uid="uid://dtkbvcxhn5hgr" path="res://assets/audio/Efectos de sonido/Abrir compuerta Corto.mp3" id="2_a7bo2"]

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_7vhvi"]
albedo_color = Color(0.54099, 0.54099, 0.54099, 1)
metallic = 0.85
roughness = 0.65

[sub_resource type="BoxMesh" id="BoxMesh_a7bo2"]
material = SubResource("StandardMaterial3D_7vhvi")
size = Vector3(1, 4, 1)

[sub_resource type="ConcavePolygonShape3D" id="ConcavePolygonShape3D_biqr5"]
data = PackedVector3Array(-0.5, 2, 0.5, 0.5, 2, 0.5, -0.5, -2, 0.5, 0.5, 2, 0.5, 0.5, -2, 0.5, -0.5, -2, 0.5, 0.5, 2, -0.5, -0.5, 2, -0.5, 0.5, -2, -0.5, -0.5, 2, -0.5, -0.5, -2, -0.5, 0.5, -2, -0.5, 0.5, 2, 0.5, 0.5, 2, -0.5, 0.5, -2, 0.5, 0.5, 2, -0.5, 0.5, -2, -0.5, 0.5, -2, 0.5, -0.5, 2, -0.5, -0.5, 2, 0.5, -0.5, -2, -0.5, -0.5, 2, 0.5, -0.5, -2, 0.5, -0.5, -2, -0.5, 0.5, 2, 0.5, -0.5, 2, 0.5, 0.5, 2, -0.5, -0.5, 2, 0.5, -0.5, 2, -0.5, 0.5, 2, -0.5, -0.5, -2, 0.5, 0.5, -2, 0.5, -0.5, -2, -0.5, 0.5, -2, 0.5, 0.5, -2, -0.5, -0.5, -2, -0.5)

[sub_resource type="ConcavePolygonShape3D" id="ConcavePolygonShape3D_b3luh"]
data = PackedVector3Array(-0.5, 2, 0.5, 0.5, 2, 0.5, -0.5, -2, 0.5, 0.5, 2, 0.5, 0.5, -2, 0.5, -0.5, -2, 0.5, 0.5, 2, -0.5, -0.5, 2, -0.5, 0.5, -2, -0.5, -0.5, 2, -0.5, -0.5, -2, -0.5, 0.5, -2, -0.5, 0.5, 2, 0.5, 0.5, 2, -0.5, 0.5, -2, 0.5, 0.5, 2, -0.5, 0.5, -2, -0.5, 0.5, -2, 0.5, -0.5, 2, -0.5, -0.5, 2, 0.5, -0.5, -2, -0.5, -0.5, 2, 0.5, -0.5, -2, 0.5, -0.5, -2, -0.5, 0.5, 2, 0.5, -0.5, 2, 0.5, 0.5, 2, -0.5, -0.5, 2, 0.5, -0.5, 2, -0.5, 0.5, 2, -0.5, -0.5, -2, 0.5, 0.5, -2, 0.5, -0.5, -2, -0.5, 0.5, -2, 0.5, 0.5, -2, -0.5, -0.5, -2, -0.5)

[sub_resource type="ConcavePolygonShape3D" id="ConcavePolygonShape3D_oc5wj"]
data = PackedVector3Array(-0.5, 2, 0.5, 0.5, 2, 0.5, -0.5, -2, 0.5, 0.5, 2, 0.5, 0.5, -2, 0.5, -0.5, -2, 0.5, 0.5, 2, -0.5, -0.5, 2, -0.5, 0.5, -2, -0.5, -0.5, 2, -0.5, -0.5, -2, -0.5, 0.5, -2, -0.5, 0.5, 2, 0.5, 0.5, 2, -0.5, 0.5, -2, 0.5, 0.5, 2, -0.5, 0.5, -2, -0.5, 0.5, -2, 0.5, -0.5, 2, -0.5, -0.5, 2, 0.5, -0.5, -2, -0.5, -0.5, 2, 0.5, -0.5, -2, 0.5, -0.5, -2, -0.5, 0.5, 2, 0.5, -0.5, 2, 0.5, 0.5, 2, -0.5, -0.5, 2, 0.5, -0.5, 2, -0.5, 0.5, 2, -0.5, -0.5, -2, 0.5, 0.5, -2, 0.5, -0.5, -2, -0.5, 0.5, -2, 0.5, 0.5, -2, -0.5, -0.5, -2, -0.5)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_saidh"]
albedo_color = Color(1, 0, 0, 1)
metallic = 1.0
roughness = 0.75

[sub_resource type="BoxMesh" id="BoxMesh_wwm21"]
material = SubResource("StandardMaterial3D_saidh")
size = Vector3(2, 3, 1)

[sub_resource type="ConcavePolygonShape3D" id="ConcavePolygonShape3D_plp72"]
data = PackedVector3Array(-1, 1.5, 0.5, 1, 1.5, 0.5, -1, -1.5, 0.5, 1, 1.5, 0.5, 1, -1.5, 0.5, -1, -1.5, 0.5, 1, 1.5, -0.5, -1, 1.5, -0.5, 1, -1.5, -0.5, -1, 1.5, -0.5, -1, -1.5, -0.5, 1, -1.5, -0.5, 1, 1.5, 0.5, 1, 1.5, -0.5, 1, -1.5, 0.5, 1, 1.5, -0.5, 1, -1.5, -0.5, 1, -1.5, 0.5, -1, 1.5, -0.5, -1, 1.5, 0.5, -1, -1.5, -0.5, -1, 1.5, 0.5, -1, -1.5, 0.5, -1, -1.5, -0.5, 1, 1.5, 0.5, -1, 1.5, 0.5, 1, 1.5, -0.5, -1, 1.5, 0.5, -1, 1.5, -0.5, 1, 1.5, -0.5, -1, -1.5, 0.5, 1, -1.5, 0.5, -1, -1.5, -0.5, 1, -1.5, 0.5, 1, -1.5, -0.5, -1, -1.5, -0.5)

[sub_resource type="SphereShape3D" id="SphereShape3D_4xk3p"]
radius = 1.4762

[sub_resource type="Animation" id="Animation_myhkv"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("..:position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector3(-0.0179901, 1.99664, 0)]
}

[sub_resource type="Animation" id="Animation_w016u"]
resource_name = "abrir_puerta"
length = 2.0
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("..:position")
tracks/0/interp = 2
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 2),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Vector3(-0.0179901, 1.99664, 0), Vector3(-1.843, 1.997, 0)]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_6i5g0"]
_data = {
&"RESET": SubResource("Animation_myhkv"),
&"abrir_puerta": SubResource("Animation_w016u")
}

[node name="Puerta" type="Node3D"]

[node name="Marco" type="Node3D" parent="."]

[node name="MeshInstance3D" type="MeshInstance3D" parent="Marco"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1.51799, 2.49664, 0)
mesh = SubResource("BoxMesh_a7bo2")
skeleton = NodePath("../../root/@EditorNode@21269/@Panel@14/@VBoxContainer@15/DockHSplitLeftL/DockHSplitLeftR/DockHSplitMain/@VBoxContainer@26/DockVSplitCenter/@VSplitContainer@54/@VBoxContainer@55/@EditorMainScreen@102/MainScreen/@CanvasItemEditor@11479/@VSplitContainer@11131/@HSplitContainer@11133/@HSplitContainer@11135/@Control@11136/@SubViewportContainer@11137/@SubViewport@11138/Node3D")

[node name="StaticBody3D" type="StaticBody3D" parent="Marco/MeshInstance3D"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="Marco/MeshInstance3D/StaticBody3D"]
shape = SubResource("ConcavePolygonShape3D_biqr5")

[node name="MeshInstance3D2" type="MeshInstance3D" parent="Marco"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1.48298, 2.51114, 0.00400138)
mesh = SubResource("BoxMesh_a7bo2")
skeleton = NodePath("../../root/@EditorNode@21269/@Panel@14/@VBoxContainer@15/DockHSplitLeftL/DockHSplitLeftR/DockHSplitMain/@VBoxContainer@26/DockVSplitCenter/@VSplitContainer@54/@VBoxContainer@55/@EditorMainScreen@102/MainScreen/@CanvasItemEditor@11479/@VSplitContainer@11131/@HSplitContainer@11133/@HSplitContainer@11135/@Control@11136/@SubViewportContainer@11137/@SubViewport@11138/Node3D")

[node name="StaticBody3D" type="StaticBody3D" parent="Marco/MeshInstance3D2"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="Marco/MeshInstance3D2/StaticBody3D"]
shape = SubResource("ConcavePolygonShape3D_b3luh")

[node name="MeshInstance3D3" type="MeshInstance3D" parent="Marco"]
transform = Transform3D(-4.37114e-08, -1, 0, 1, -4.37114e-08, 0, 0, 0, 1, -0.0179901, 3.99664, 0)
mesh = SubResource("BoxMesh_a7bo2")
skeleton = NodePath("../../root/@EditorNode@21269/@Panel@14/@VBoxContainer@15/DockHSplitLeftL/DockHSplitLeftR/DockHSplitMain/@VBoxContainer@26/DockVSplitCenter/@VSplitContainer@54/@VBoxContainer@55/@EditorMainScreen@102/MainScreen/@CanvasItemEditor@11479/@VSplitContainer@11131/@HSplitContainer@11133/@HSplitContainer@11135/@Control@11136/@SubViewportContainer@11137/@SubViewport@11138/Node3D")

[node name="StaticBody3D" type="StaticBody3D" parent="Marco/MeshInstance3D3"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="Marco/MeshInstance3D3/StaticBody3D"]
shape = SubResource("ConcavePolygonShape3D_oc5wj")

[node name="Barrera" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 0.5, 0, 0, 0)

[node name="Puerta" type="MeshInstance3D" parent="Barrera"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.0179901, 1.99664, 0)
mesh = SubResource("BoxMesh_wwm21")
skeleton = NodePath("../..")

[node name="StaticBody3D" type="StaticBody3D" parent="Barrera/Puerta"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="Barrera/Puerta/StaticBody3D"]
shape = SubResource("ConcavePolygonShape3D_plp72")

[node name="HackeoPuerta" type="Area3D" parent="Barrera/Puerta" node_paths=PackedStringArray("barrera", "puerta_audio")]
collision_layer = 256
script = ExtResource("1_7vhvi")
barrera = NodePath("../..")
puerta_audio = NodePath("../../../AudioPuerta")

[node name="CollisionShape3D" type="CollisionShape3D" parent="Barrera/Puerta/HackeoPuerta"]
shape = SubResource("SphereShape3D_4xk3p")

[node name="AnimationPlayer" type="AnimationPlayer" parent="Barrera/Puerta/HackeoPuerta"]
libraries = {
&"": SubResource("AnimationLibrary_6i5g0")
}

[node name="AudioPuerta" type="AudioStreamPlayer3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, 0)
stream = ExtResource("2_a7bo2")
max_db = 0.0
